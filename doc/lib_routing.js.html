<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: lib/routing.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: lib/routing.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @file Set up Express, Handlebars and routes/views.
 * @author Antonio Olmo Titos &lt;antonio@w3.org>
 * @exports lib/routing
 */

// External packages:
const EXPRESS = require('express'),
    EXPRESS_HANDLEBARS = require('express-handlebars'),
    BODY_PARSER = require('body-parser');

// Internal packages:
const ROUTES = require('./routes');

/**
 * Set up views using templates and Express Handlebars.
 *
 * @param {Object} app - the &lt;a href="http://expressjs.com/">Express&lt;/a> application.
 */

const setUp = function(app) {

    const HANDLEBARS = EXPRESS_HANDLEBARS.create({defaultLayout: 'main'});

    app.set('title', 'Eunomia');
    app.set('case sensitive routing', true);
    app.set('strict routing', true);
    // app.set('views', process.cwd() + '/views');
    app.set('views', 'views');
    app.set('view cache', false);
    app.set('view engine', 'hbs');
    app.engine('hbs', HANDLEBARS.engine);
    app.use(EXPRESS.static('static'));
    app.use(BODY_PARSER.urlencoded({extended: true}));

    ROUTES.forEach(function(route) {
        app.get(route.path, function(req,res) {
            res.render(route.view, {title: route.title});
        });
    });

};

exports.setUp = setUp;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="lib_routing.module_js.html">lib/routing.js</a></li><li><a href="server.module_js.html">server.js</a></li><li><a href="static_js_behaviour.module_js.html">static/js/behaviour.js</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Mon Jun 27 2016 21:05:58 GMT+0200 (CEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
